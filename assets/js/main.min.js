"use strict";var Form=function(){function e(){"undefined"!=typeof jQuery&&"undefined"!=typeof validate&&"undefined"!=typeof intlTelInput&&[].slice.call(document.querySelectorAll('[data-control="form"]')).map(function(t){var a,r;"1"!==t.getAttribute("data-initialized")&&(a=t.querySelector('input[name="phone"]'),window.intlTelInput(a,{initialCountry:"auto",separateDialCode:!0,hiddenInput:"fullphone",preferredCountries:["fr","us","gb"],geoIpLookup:function(n){$.get("https://ipinfo.io",function(){},"jsonp").always(function(e){e=e&&e.country?e.country:"ua";n(e)})}}),$(a).on("countrychange",function(e){var n=$(this).attr("placeholder").replace(/[0-9+]/gi,"9");$(this).attr("placeholder",n),$(a).inputmask({mask:n,keepStatic:!0})}),r={name:{presence:!0,length:{minimum:3,maximum:20}},surname:{presence:!1,length:{minimum:3,maximum:20}},email:{presence:!0,email:!0},phone:{presence:!0,format:{pattern:"[0-9- ]+",flags:"i",message:"can only contain 0-9"}}},t.addEventListener("submit",function(e){e.preventDefault(),e=t,n=validate(e,r);var n,o=n||{};_.each(e.querySelectorAll("input[name]:not([type='hidden']), select[name]"),function(e){n=e,e=o&&o[e.name],n=function e(n,t){if(!n||n==document)return null;return n.classList.contains(t)?n:e(n.parentNode,t)}(n.parentNode,"form-group"),a=n.querySelector(".messages");var n,a,t=n;t.classList.remove("has-error"),t.classList.remove("has-success"),_.each(t.querySelectorAll(".help-block.error"),function(e){e.parentNode.removeChild(e)}),e?(n.classList.add("has-error"),_.each(e,function(e){var n,t;n=a,e=e,(t=document.createElement("p")).classList.add("help-block"),t.classList.add("error"),t.innerText=e,n.appendChild(t)})):n.classList.add("has-success")}),n||$(t).append('<input type="hidden" name="url" value="'+window.location.href+'" /> ').submit()}))})}return{createInstances:function(){e()},onDOMContentLoaded:function(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}}}();Form.onDOMContentLoaded(function(){Form.createInstances()});